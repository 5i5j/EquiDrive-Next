# Gemini Development Log: The Greenfield Rebirth

This document records the collaborative journey between the Architect (User) and Gemini (AI) in developing EquiDrive-Next.

## üìù Milestone: 2026-01-16 (Infrastructure & Visualization Finalization)

### 1. MLOps "Surgical" Integration
- **Issue**: Large binary data (.npz) and model files (.h5) were accidentally tracked by Git, causing repository bloat.
- **Fix**: Executed a "Clean Sweep" using `git rm --cached`. Redirected all heavy artifacts to **DVC (Data Version Control)**.
- **Remote Storage**: Successfully synchronized **15,971 objects** to the dedicated MinIO/S3 bucket: `s3://equidrive-ml`.
- **Reproducibility**: Established `params.yaml` and `dvc.yaml` logic to ensure any future training run can be reconstructed bit-for-bit.

### 2. Inference & Physical Validation
- **Visual Evidence**: Developed `visualizer.py` to bridge the gap between metrics and physics. 
- **The 99.9% Case**: Confirmed the model's high-confidence prediction (99.9%) on a complex right-turn scenario. 
- **Kinematic Insight**: The V2 4D model (Position + Velocity) demonstrated the ability to detect intent *before* significant spatial displacement occurs by capturing shifts in the velocity vectors ($v_x, v_y$).

### 3. V1 vs V2 Competitive Analysis
| Version | Feature Set | Data Distribution | Status |
| :--- | :--- | :--- | :--- |
| **V1** | 2D (x, y) | Natural (Imbalanced) | Retired (Baseline) |
| **V2** | **4D (x, y, vx, vy)** | **Balanced (1:1:1)** | **Production Ready ‚úÖ** |

---

## üìù Milestone: 2026-01-15 (The V2 Symmetry Breakthrough)

### 1. The "Category" Mystery & Resolution
- **Issue**: Encountered `KeyError: 'category'` during data processing.
- **Root Cause**: Identified that Argoverse 2 schema uses `object_category` and requires `focal_track_id` for agent identification.
- **Fix**: Re-engineered `builder_bronze.py` for precise agent filtering using `track_id == focal_track_id`.

### 2. Strategic Pivot: Class Balancing
- **Action**: Implemented "Quota-based" extraction logic.
- **Result**: Successfully curated a 6,000-sample dataset with a perfect **2000:2000:2000** split. This effectively eliminated the "Straight-driving bias."

### 3. Training Performance
- **Impact**: Transitioning to 4D kinematic states led to faster convergence and a significantly lower loss (**0.14 vs 0.20**).
- **Validation Accuracy**: Reached **92.6%**, proving that data quality (balance) outweighs architecture complexity.

---

## üìù Milestone: 2026-01-15 (The First Ignite)

### 1. Architectural Pivot
- **Logic Shift**: Moved from V1's displacement-based labeling to V2's **Heading Delta (Angular change)**. This captures turning physics accurately regardless of road orientation.
- **Environment**: Configured `tf_gpu` on P620 workstation (RTX 3080 Ti).

### 2. Engineering Foundations
- **Normalization**: Implemented "Relative to Origin" transform (T=0 at (0,0) with aligned heading).
- **Module System**: Established proper `src` package structure with `PYTHONPATH` management.

---
*Generated by Gemini for the EquiDrive-Next Project.*